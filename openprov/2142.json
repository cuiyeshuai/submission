{"prefix": {"crypto": "http://id.loc.gov/vocabulary/preservation/cryptographicHashFunctions#", "rdfs": "http://www.w3.org/2000/01/rdf-schema#", "default": "http://snakemake-provenance#"}, "agent": {"gaignard-a": {}}, "bundle": {"f2a09f37-467a-4d74-8a29-4edd05343ef3": {"prefix": {"crypto": "http://id.loc.gov/vocabulary/preservation/cryptographicHashFunctions#", "rdfs": "http://www.w3.org/2000/01/rdf-schema#", "default": "http://snakemake-provenance#"}, "wasDerivedFrom": {"_:id1": {"prov:usedEntity": "samples/2VM-sim/20170904/alignments/rejects.bam", "prov:generatedEntity": "samples/2VM-sim/20170904/alignments/REF_aln.bam"}, "_:id2": {"prov:usedEntity": "samples/2VM-sim/20170904/alignments/full_aln.bam", "prov:generatedEntity": "samples/2VM-sim/20170904/alignments/REF_aln.bam"}, "_:id3": {"prov:usedEntity": "references/ALL_aln_majority.fasta", "prov:generatedEntity": "samples/2VM-sim/20170904/alignments/REF_aln.bam"}, "_:id4": {"prov:usedEntity": "references/ALL_aln_ambig.fasta", "prov:generatedEntity": "samples/2VM-sim/20170904/alignments/REF_aln.bam"}, "_:id5": {"prov:usedEntity": "samples/2VM-sim/20170904/alignments/full_aln.sam", "prov:generatedEntity": "samples/2VM-sim/20170904/alignments/full_aln.bam.bai"}, "_:id6": {"prov:usedEntity": "samples/2VM-sim/20170904/alignments/full_aln.sam", "prov:generatedEntity": "samples/2VM-sim/20170904/alignments/full_aln.bam"}, "_:id7": {"prov:usedEntity": "samples/2VM-sim/20170904/alignments/rejects.sam", "prov:generatedEntity": "samples/2VM-sim/20170904/alignments/rejects.bam.bai"}, "_:id8": {"prov:usedEntity": "samples/2VM-sim/20170904/alignments/rejects.sam", "prov:generatedEntity": "samples/2VM-sim/20170904/alignments/rejects.bam"}, "_:id9": {"prov:usedEntity": "references/HXB2.fasta", "prov:generatedEntity": "references/ALL_aln_ambig.fasta"}, "_:id10": {"prov:usedEntity": "samples/2VM-sim/20170904/references/ref_ambig.fasta", "prov:generatedEntity": "references/ALL_aln_ambig.fasta"}, "_:id11": {"prov:usedEntity": "references/HXB2.fasta", "prov:generatedEntity": "references/ALL_aln_majority.fasta"}, "_:id12": {"prov:usedEntity": "samples/2VM-sim/20170904/references/ref_majority.fasta", "prov:generatedEntity": "references/ALL_aln_majority.fasta"}, "_:id13": {"prov:usedEntity": "samples/2VM-sim/20170904/preprocessed_data/R2.fastq", "prov:generatedEntity": "samples/2VM-sim/20170904/references/ref_majority.fasta"}, "_:id14": {"prov:usedEntity": "samples/2VM-sim/20170904/preprocessed_data/R1.fastq", "prov:generatedEntity": "samples/2VM-sim/20170904/references/ref_majority.fasta"}, "_:id15": {"prov:usedEntity": "samples/2VM-sim/20170904/references/initial_consensus.fasta", "prov:generatedEntity": "samples/2VM-sim/20170904/references/ref_majority.fasta"}, "_:id16": {"prov:usedEntity": "samples/2VM-sim/20170904/preprocessed_data/R2.fastq", "prov:generatedEntity": "samples/2VM-sim/20170904/references/ref_ambig.fasta"}, "_:id17": {"prov:usedEntity": "samples/2VM-sim/20170904/preprocessed_data/R1.fastq", "prov:generatedEntity": "samples/2VM-sim/20170904/references/ref_ambig.fasta"}, "_:id18": {"prov:usedEntity": "samples/2VM-sim/20170904/references/initial_consensus.fasta", "prov:generatedEntity": "samples/2VM-sim/20170904/references/ref_ambig.fasta"}, "_:id19": {"prov:usedEntity": "samples/2VM-sim/20170904/preprocessed_data/R2.fastq", "prov:generatedEntity": "samples/2VM-sim/20170904/alignments/rejects.sam"}, "_:id20": {"prov:usedEntity": "samples/2VM-sim/20170904/preprocessed_data/R1.fastq", "prov:generatedEntity": "samples/2VM-sim/20170904/alignments/rejects.sam"}, "_:id21": {"prov:usedEntity": "samples/2VM-sim/20170904/references/initial_consensus.fasta", "prov:generatedEntity": "samples/2VM-sim/20170904/alignments/rejects.sam"}, "_:id22": {"prov:usedEntity": "samples/2VM-sim/20170904/preprocessed_data/R2.fastq", "prov:generatedEntity": "samples/2VM-sim/20170904/alignments/full_aln.sam"}, "_:id23": {"prov:usedEntity": "samples/2VM-sim/20170904/preprocessed_data/R1.fastq", "prov:generatedEntity": "samples/2VM-sim/20170904/alignments/full_aln.sam"}, "_:id24": {"prov:usedEntity": "samples/2VM-sim/20170904/references/initial_consensus.fasta", "prov:generatedEntity": "samples/2VM-sim/20170904/alignments/full_aln.sam"}, "_:id25": {"prov:usedEntity": "references/initial_aln_gap_removed.fasta", "prov:generatedEntity": "samples/2VM-sim/20170904/references/initial_consensus.fasta"}, "_:id26": {"prov:usedEntity": "samples/2VM-sim/20170904/references/vicuna_consensus.fasta", "prov:generatedEntity": "references/initial_aln_gap_removed.fasta"}, "_:id27": {"prov:usedEntity": "samples/2VM-sim/20170904/preprocessed_data/R2.fastq", "prov:generatedEntity": "samples/2VM-sim/20170904/references/vicuna_consensus.fasta"}, "_:id28": {"prov:usedEntity": "samples/2VM-sim/20170904/preprocessed_data/R1.fastq", "prov:generatedEntity": "samples/2VM-sim/20170904/references/vicuna_consensus.fasta"}, "_:id29": {"prov:usedEntity": "references/HXB2.fasta", "prov:generatedEntity": "samples/2VM-sim/20170904/references/vicuna_consensus.fasta"}, "_:id30": {"prov:usedEntity": "samples/2VM-sim/20170904/preprocessed_data/R1.fastq.gz", "prov:generatedEntity": "samples/2VM-sim/20170904/preprocessed_data/R1.fastq"}, "_:id31": {"prov:usedEntity": "samples/2VM-sim/20170904/preprocessed_data/R2.fastq.gz", "prov:generatedEntity": "samples/2VM-sim/20170904/preprocessed_data/R2.fastq"}, "_:id32": {"prov:usedEntity": "samples/2VM-sim/20170904/extracted_data/R2.fastq", "prov:generatedEntity": "samples/2VM-sim/20170904/preprocessed_data/R2.fastq.gz"}, "_:id33": {"prov:usedEntity": "samples/2VM-sim/20170904/extracted_data/R1.fastq", "prov:generatedEntity": "samples/2VM-sim/20170904/preprocessed_data/R2.fastq.gz"}, "_:id34": {"prov:usedEntity": "samples/2VM-sim/20170904/extracted_data/R2.fastq", "prov:generatedEntity": "samples/2VM-sim/20170904/preprocessed_data/R1.fastq.gz"}, "_:id35": {"prov:usedEntity": "samples/2VM-sim/20170904/extracted_data/R1.fastq", "prov:generatedEntity": "samples/2VM-sim/20170904/preprocessed_data/R1.fastq.gz"}, "_:id36": {"prov:usedEntity": "samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R2.fastq", "prov:generatedEntity": "samples/2VM-sim/20170904/extracted_data/R2.fastq"}, "_:id37": {"prov:usedEntity": "samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R1.fastq", "prov:generatedEntity": "samples/2VM-sim/20170904/extracted_data/R1.fastq"}, "_:id38": {"prov:usedEntity": "samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R1.fastq.gz", "prov:generatedEntity": "samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R1.fastq"}, "_:id39": {"prov:usedEntity": "samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R2.fastq.gz", "prov:generatedEntity": "samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R2.fastq"}}, "wasGeneratedBy": {"_:id40": {"prov:activity": "activity-convert_to_ref-e8ff9e0f-8a41-4443-bd7b-ba5dc6907c6b", "prov:entity": "samples/2VM-sim/20170904/alignments/REF_aln.bam"}, "_:id41": {"prov:activity": "activity-sam2bam-231b5d2a-58d6-41bd-8f94-b4b3d452becb", "prov:entity": "samples/2VM-sim/20170904/alignments/full_aln.bam.bai"}, "_:id42": {"prov:activity": "activity-sam2bam-231b5d2a-58d6-41bd-8f94-b4b3d452becb", "prov:entity": "samples/2VM-sim/20170904/alignments/full_aln.bam"}, "_:id43": {"prov:activity": "activity-sam2bam-42ed3490-c14e-472c-8324-32e08d3c71bb", "prov:entity": "samples/2VM-sim/20170904/alignments/rejects.bam.bai"}, "_:id44": {"prov:activity": "activity-sam2bam-42ed3490-c14e-472c-8324-32e08d3c71bb", "prov:entity": "samples/2VM-sim/20170904/alignments/rejects.bam"}, "_:id45": {"prov:activity": "activity-msa-48d8d399-d6cd-45e7-bc1b-ec1777dace97", "prov:entity": "references/ALL_aln_ambig.fasta"}, "_:id46": {"prov:activity": "activity-msa-36eec256-11ee-465f-90e5-341eb23f5b54", "prov:entity": "references/ALL_aln_majority.fasta"}, "_:id47": {"prov:activity": "activity-hmm_align-4a4a68e6-fa68-4be9-9892-af73802d36ed", "prov:entity": "samples/2VM-sim/20170904/references/ref_majority.fasta"}, "_:id48": {"prov:activity": "activity-hmm_align-4a4a68e6-fa68-4be9-9892-af73802d36ed", "prov:entity": "samples/2VM-sim/20170904/references/ref_ambig.fasta"}, "_:id49": {"prov:activity": "activity-hmm_align-4a4a68e6-fa68-4be9-9892-af73802d36ed", "prov:entity": "samples/2VM-sim/20170904/alignments/rejects.sam"}, "_:id50": {"prov:activity": "activity-hmm_align-4a4a68e6-fa68-4be9-9892-af73802d36ed", "prov:entity": "samples/2VM-sim/20170904/alignments/full_aln.sam"}, "_:id51": {"prov:activity": "activity-create_vicuna_initial-2c966b37-b971-481e-b796-1cf496060b27", "prov:entity": "samples/2VM-sim/20170904/references/initial_consensus.fasta"}, "_:id52": {"prov:activity": "activity-initial_vicuna_msa-416c38f6-592f-4876-a9f4-baae66f8a748", "prov:entity": "references/initial_aln_gap_removed.fasta"}, "_:id53": {"prov:activity": "activity-initial_vicuna-ac2da80a-9a0b-41e9-8f7f-c17637d0363e", "prov:entity": "samples/2VM-sim/20170904/references/vicuna_consensus.fasta"}, "_:id54": {"prov:activity": "activity-gunzip-4a61c654-a8ae-41a9-aaf2-3ab541a6818f", "prov:entity": "samples/2VM-sim/20170904/preprocessed_data/R1.fastq"}, "_:id55": {"prov:activity": "activity-gunzip-799d4179-0470-4bad-b741-3c882ebcd14e", "prov:entity": "samples/2VM-sim/20170904/preprocessed_data/R2.fastq"}, "_:id56": {"prov:activity": "activity-preprocessing-73e31451-094a-4cad-94eb-201f065d0c7f", "prov:entity": "samples/2VM-sim/20170904/preprocessed_data/R2.fastq.gz"}, "_:id57": {"prov:activity": "activity-preprocessing-73e31451-094a-4cad-94eb-201f065d0c7f", "prov:entity": "samples/2VM-sim/20170904/preprocessed_data/R1.fastq.gz"}, "_:id58": {"prov:activity": "activity-extract-05915f2a-a1c6-4033-ae19-eab204ab344e", "prov:entity": "samples/2VM-sim/20170904/extracted_data/R2.fastq"}, "_:id59": {"prov:activity": "activity-extract-9bfbf4fe-c195-41c4-beb6-785bf0190a92", "prov:entity": "samples/2VM-sim/20170904/extracted_data/R1.fastq"}, "_:id60": {"prov:activity": "activity-gunzip-36804754-fba7-4969-8b56-7c91907e9949", "prov:entity": "samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R1.fastq"}, "_:id61": {"prov:activity": "activity-gunzip-bbb8a266-392a-4e67-9776-a46047ff2691", "prov:entity": "samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R2.fastq"}}, "used": {"_:id62": {"prov:entity": "samples/2VM-sim/20170904/references/ref_majority.fasta", "prov:activity": "activity-all-7c122235-7cd0-409e-8dbe-9a0082bc8bf4"}, "_:id63": {"prov:entity": "samples/2VM-sim/20170904/references/ref_ambig.fasta", "prov:activity": "activity-all-7c122235-7cd0-409e-8dbe-9a0082bc8bf4"}, "_:id64": {"prov:entity": "samples/2VM-sim/20170904/alignments/REF_aln.bam", "prov:activity": "activity-all-7c122235-7cd0-409e-8dbe-9a0082bc8bf4"}, "_:id65": {"prov:entity": "samples/2VM-sim/20170904/alignments/rejects.bam", "prov:activity": "activity-convert_to_ref-e8ff9e0f-8a41-4443-bd7b-ba5dc6907c6b"}, "_:id66": {"prov:entity": "samples/2VM-sim/20170904/alignments/full_aln.bam", "prov:activity": "activity-convert_to_ref-e8ff9e0f-8a41-4443-bd7b-ba5dc6907c6b"}, "_:id67": {"prov:entity": "references/ALL_aln_majority.fasta", "prov:activity": "activity-convert_to_ref-e8ff9e0f-8a41-4443-bd7b-ba5dc6907c6b"}, "_:id68": {"prov:entity": "references/ALL_aln_ambig.fasta", "prov:activity": "activity-convert_to_ref-e8ff9e0f-8a41-4443-bd7b-ba5dc6907c6b"}, "_:id69": {"prov:entity": "samples/2VM-sim/20170904/alignments/full_aln.sam", "prov:activity": "activity-sam2bam-231b5d2a-58d6-41bd-8f94-b4b3d452becb"}, "_:id70": {"prov:entity": "samples/2VM-sim/20170904/alignments/rejects.sam", "prov:activity": "activity-sam2bam-42ed3490-c14e-472c-8324-32e08d3c71bb"}, "_:id71": {"prov:entity": "references/HXB2.fasta", "prov:activity": "activity-msa-48d8d399-d6cd-45e7-bc1b-ec1777dace97"}, "_:id72": {"prov:entity": "samples/2VM-sim/20170904/references/ref_ambig.fasta", "prov:activity": "activity-msa-48d8d399-d6cd-45e7-bc1b-ec1777dace97"}, "_:id73": {"prov:entity": "references/HXB2.fasta", "prov:activity": "activity-msa-36eec256-11ee-465f-90e5-341eb23f5b54"}, "_:id74": {"prov:entity": "samples/2VM-sim/20170904/references/ref_majority.fasta", "prov:activity": "activity-msa-36eec256-11ee-465f-90e5-341eb23f5b54"}, "_:id75": {"prov:entity": "samples/2VM-sim/20170904/preprocessed_data/R2.fastq", "prov:activity": "activity-hmm_align-4a4a68e6-fa68-4be9-9892-af73802d36ed"}, "_:id76": {"prov:entity": "samples/2VM-sim/20170904/preprocessed_data/R1.fastq", "prov:activity": "activity-hmm_align-4a4a68e6-fa68-4be9-9892-af73802d36ed"}, "_:id77": {"prov:entity": "samples/2VM-sim/20170904/references/initial_consensus.fasta", "prov:activity": "activity-hmm_align-4a4a68e6-fa68-4be9-9892-af73802d36ed"}, "_:id78": {"prov:entity": "references/initial_aln_gap_removed.fasta", "prov:activity": "activity-create_vicuna_initial-2c966b37-b971-481e-b796-1cf496060b27"}, "_:id79": {"prov:entity": "samples/2VM-sim/20170904/references/vicuna_consensus.fasta", "prov:activity": "activity-initial_vicuna_msa-416c38f6-592f-4876-a9f4-baae66f8a748"}, "_:id80": {"prov:entity": "samples/2VM-sim/20170904/preprocessed_data/R2.fastq", "prov:activity": "activity-initial_vicuna-ac2da80a-9a0b-41e9-8f7f-c17637d0363e"}, "_:id81": {"prov:entity": "samples/2VM-sim/20170904/preprocessed_data/R1.fastq", "prov:activity": "activity-initial_vicuna-ac2da80a-9a0b-41e9-8f7f-c17637d0363e"}, "_:id82": {"prov:entity": "references/HXB2.fasta", "prov:activity": "activity-initial_vicuna-ac2da80a-9a0b-41e9-8f7f-c17637d0363e"}, "_:id83": {"prov:entity": "samples/2VM-sim/20170904/preprocessed_data/R1.fastq.gz", "prov:activity": "activity-gunzip-4a61c654-a8ae-41a9-aaf2-3ab541a6818f"}, "_:id84": {"prov:entity": "samples/2VM-sim/20170904/preprocessed_data/R2.fastq.gz", "prov:activity": "activity-gunzip-799d4179-0470-4bad-b741-3c882ebcd14e"}, "_:id85": {"prov:entity": "samples/2VM-sim/20170904/extracted_data/R2.fastq", "prov:activity": "activity-preprocessing-73e31451-094a-4cad-94eb-201f065d0c7f"}, "_:id86": {"prov:entity": "samples/2VM-sim/20170904/extracted_data/R1.fastq", "prov:activity": "activity-preprocessing-73e31451-094a-4cad-94eb-201f065d0c7f"}, "_:id87": {"prov:entity": "samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R2.fastq", "prov:activity": "activity-extract-05915f2a-a1c6-4033-ae19-eab204ab344e"}, "_:id88": {"prov:entity": "samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R1.fastq", "prov:activity": "activity-extract-9bfbf4fe-c195-41c4-beb6-785bf0190a92"}, "_:id89": {"prov:entity": "samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R1.fastq.gz", "prov:activity": "activity-gunzip-36804754-fba7-4969-8b56-7c91907e9949"}, "_:id90": {"prov:entity": "samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R2.fastq.gz", "prov:activity": "activity-gunzip-bbb8a266-392a-4e67-9776-a46047ff2691"}}, "entity": {"samples/2VM-sim/20170904/alignments/REF_aln.bam": [{}, {}], "samples/2VM-sim/20170904/alignments/full_aln.bam.bai": {}, "samples/2VM-sim/20170904/alignments/full_aln.bam": [{}, {}], "samples/2VM-sim/20170904/alignments/rejects.bam.bai": {}, "samples/2VM-sim/20170904/alignments/rejects.bam": [{}, {}], "references/ALL_aln_ambig.fasta": [{}, {}], "references/ALL_aln_majority.fasta": [{}, {}], "samples/2VM-sim/20170904/references/ref_majority.fasta": [{}, {}, {}], "samples/2VM-sim/20170904/references/ref_ambig.fasta": [{}, {}, {}], "samples/2VM-sim/20170904/alignments/rejects.sam": [{}, {}], "samples/2VM-sim/20170904/alignments/full_aln.sam": [{}, {}], "samples/2VM-sim/20170904/references/initial_consensus.fasta": [{}, {}], "references/initial_aln_gap_removed.fasta": [{}, {}], "samples/2VM-sim/20170904/references/vicuna_consensus.fasta": [{}, {}], "references/HXB2.fasta": [{"crypto:sha512": "e665f1321711e1b4999127df052bba5f20ab396029f0aee0a439e5274184f29383bde5e1fee94f4c5cfdee127bd34d5dd34737429efcbc509fb39264b10a6b9f"}, {"crypto:sha512": "e665f1321711e1b4999127df052bba5f20ab396029f0aee0a439e5274184f29383bde5e1fee94f4c5cfdee127bd34d5dd34737429efcbc509fb39264b10a6b9f"}, {"crypto:sha512": "e665f1321711e1b4999127df052bba5f20ab396029f0aee0a439e5274184f29383bde5e1fee94f4c5cfdee127bd34d5dd34737429efcbc509fb39264b10a6b9f"}], "samples/2VM-sim/20170904/preprocessed_data/R1.fastq": [{}, {}, {}], "samples/2VM-sim/20170904/preprocessed_data/R2.fastq": [{}, {}, {}], "samples/2VM-sim/20170904/preprocessed_data/R2.fastq.gz": [{}, {}], "samples/2VM-sim/20170904/preprocessed_data/R1.fastq.gz": [{}, {}], "samples/2VM-sim/20170904/extracted_data/R2.fastq": [{}, {}], "samples/2VM-sim/20170904/extracted_data/R1.fastq": [{}, {}], "samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R1.fastq": [{}, {}], "samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R1.fastq.gz": {"crypto:sha512": "2af08ac4e0888aba3f591431aa06f66a3b9bc2ad96778b7f8d6dc24e51d532dbe1603b8cdf8a735b79326f494ee79637fda0c5c63238312b272cfb915321ca63"}, "samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R2.fastq": [{}, {}], "samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R2.fastq.gz": {"crypto:sha512": "6dd9bc1f35c5d7136426ba160916209bb3cf32a5bdd907b7ff27eb75adedf22ef309fd2e1a3bae9cba5559b076ce5ebcf4040ec0087814d178947e5a2e6e5eb5"}}, "wasAssociatedWith": {"_:id91": {"prov:agent": "all", "prov:activity": "activity-all-7c122235-7cd0-409e-8dbe-9a0082bc8bf4"}, "_:id92": {"prov:agent": "convert_to_ref", "prov:activity": "activity-convert_to_ref-e8ff9e0f-8a41-4443-bd7b-ba5dc6907c6b"}, "_:id93": {"prov:agent": "sam2bam", "prov:activity": "activity-sam2bam-231b5d2a-58d6-41bd-8f94-b4b3d452becb"}, "_:id94": {"prov:agent": "sam2bam", "prov:activity": "activity-sam2bam-42ed3490-c14e-472c-8324-32e08d3c71bb"}, "_:id95": {"prov:agent": "msa", "prov:activity": "activity-msa-48d8d399-d6cd-45e7-bc1b-ec1777dace97"}, "_:id96": {"prov:agent": "msa", "prov:activity": "activity-msa-36eec256-11ee-465f-90e5-341eb23f5b54"}, "_:id97": {"prov:agent": "hmm_align", "prov:activity": "activity-hmm_align-4a4a68e6-fa68-4be9-9892-af73802d36ed"}, "_:id98": {"prov:agent": "create_vicuna_initial", "prov:activity": "activity-create_vicuna_initial-2c966b37-b971-481e-b796-1cf496060b27"}, "_:id99": {"prov:agent": "initial_vicuna_msa", "prov:activity": "activity-initial_vicuna_msa-416c38f6-592f-4876-a9f4-baae66f8a748"}, "_:id100": {"prov:agent": "initial_vicuna", "prov:activity": "activity-initial_vicuna-ac2da80a-9a0b-41e9-8f7f-c17637d0363e"}, "_:id101": {"prov:agent": "gunzip", "prov:activity": "activity-gunzip-4a61c654-a8ae-41a9-aaf2-3ab541a6818f"}, "_:id102": {"prov:agent": "gunzip", "prov:activity": "activity-gunzip-799d4179-0470-4bad-b741-3c882ebcd14e"}, "_:id103": {"prov:agent": "preprocessing", "prov:activity": "activity-preprocessing-73e31451-094a-4cad-94eb-201f065d0c7f"}, "_:id104": {"prov:agent": "extract", "prov:activity": "activity-extract-05915f2a-a1c6-4033-ae19-eab204ab344e"}, "_:id105": {"prov:agent": "extract", "prov:activity": "activity-extract-9bfbf4fe-c195-41c4-beb6-785bf0190a92"}, "_:id106": {"prov:agent": "gunzip", "prov:activity": "activity-gunzip-36804754-fba7-4969-8b56-7c91907e9949"}, "_:id107": {"prov:agent": "gunzip", "prov:activity": "activity-gunzip-bbb8a266-392a-4e67-9776-a46047ff2691"}}, "activity": {"activity-all-7c122235-7cd0-409e-8dbe-9a0082bc8bf4": {"prov:startTime": "2020-04-07T12:48:49.442037"}, "activity-convert_to_ref-e8ff9e0f-8a41-4443-bd7b-ba5dc6907c6b": {"rdfs:comment": "\n        convert_reference -t HXB2 -m references/ALL_aln_ambig.fasta -i samples/2VM-sim/20170904/alignments/full_aln.bam -o samples/2VM-sim/20170904/alignments/REF_aln.bam > samples/2VM-sim/20170904/alignments/convert_to_ref.out.log 2> >(tee samples/2VM-sim/20170904/alignments/convert_to_ref.err.log >&2)\n        ", "prov:startTime": "2020-04-07T12:48:49.440901"}, "activity-sam2bam-231b5d2a-58d6-41bd-8f94-b4b3d452becb": {"rdfs:comment": "\n        # convert sam -> bam\n        source /Users/gaignard-a/Downloads/V-pipe-snapshot-20200406b/functions.sh\n        sam2bam samtools samples/2VM-sim/20170904/alignments/full_aln.sam > samples/2VM-sim/20170904/alignments/full_aln_sam2bam.out.log 2> >(tee samples/2VM-sim/20170904/alignments/full_aln_sam2bam.err.log >&2)\n        ", "prov:startTime": "2020-04-07T12:48:49.439010"}, "activity-sam2bam-42ed3490-c14e-472c-8324-32e08d3c71bb": {"rdfs:comment": "\n        # convert sam -> bam\n        source /Users/gaignard-a/Downloads/V-pipe-snapshot-20200406b/functions.sh\n        sam2bam samtools samples/2VM-sim/20170904/alignments/rejects.sam > samples/2VM-sim/20170904/alignments/rejects_sam2bam.out.log 2> >(tee samples/2VM-sim/20170904/alignments/rejects_sam2bam.err.log >&2)\n        ", "prov:startTime": "2020-04-07T12:48:49.437802"}, "activity-msa-48d8d399-d6cd-45e7-bc1b-ec1777dace97": {"rdfs:comment": "\n        cat samples/2VM-sim/20170904/references/ref_ambig.fasta references/HXB2.fasta > ALL_ambig.fasta\n        mafft --nuc --preservecase --maxiterate 1000 --localpair --thread 1 ALL_ambig.fasta > references/ALL_aln_ambig.fasta 2> >(tee references/MAFFT_ambig_cohort.err.log >&2)\n        rm ALL_ambig.fasta\n        ", "prov:startTime": "2020-04-07T12:48:49.436745"}, "activity-msa-36eec256-11ee-465f-90e5-341eb23f5b54": {"rdfs:comment": "\n        cat samples/2VM-sim/20170904/references/ref_majority.fasta references/HXB2.fasta > ALL_majority.fasta\n        mafft --nuc --preservecase --maxiterate 1000 --localpair --thread 1 ALL_majority.fasta > references/ALL_aln_majority.fasta 2> >(tee references/MAFFT_majority_cohort.err.log >&2)\n        rm ALL_majority.fasta\n        ", "prov:startTime": "2020-04-07T12:48:49.433656"}, "activity-hmm_align-4a4a68e6-fa68-4be9-9892-af73802d36ed": {"rdfs:comment": "\n        CONSENSUS_NAME=samples/2VM-sim/20170904\n        CONSENSUS_NAME=\"${CONSENSUS_NAME#*/}\"\n        CONSENSUS_NAME=\"${CONSENSUS_NAME//\\//-}\"\n\n        # 1. clean previous run\n        rm -rf   samples/2VM-sim/20170904/alignments\n        rm -f    samples/2VM-sim/20170904/references/ref_ambig.fasta\n        rm -f    samples/2VM-sim/20170904/references/ref_majority.fasta\n        mkdir -p samples/2VM-sim/20170904/alignments\n        mkdir -p samples/2VM-sim/20170904/references\n\n        # 2. perform alignment # -l = leave temps\n        ngshmmalign -v -R samples/2VM-sim/20170904/references/initial_consensus.fasta -o samples/2VM-sim/20170904/alignments/full_aln.sam -w samples/2VM-sim/20170904/alignments/rejects.sam -t 1 -N \"${CONSENSUS_NAME}\" -l samples/2VM-sim/20170904/preprocessed_data/R1.fastq samples/2VM-sim/20170904/preprocessed_data/R2.fastq > samples/2VM-sim/20170904/alignments/ngshmmalign.out.log 2> >(tee samples/2VM-sim/20170904/alignments/ngshmmalign.err.log >&2)\n\n        # 3. move references into place\n        mv samples/2VM-sim/20170904/{alignments,references}/ref_ambig.fasta\n        mv samples/2VM-sim/20170904/{alignments,references}/ref_majority.fasta\n        ", "prov:startTime": "2020-04-07T12:48:49.431688"}, "activity-create_vicuna_initial-2c966b37-b971-481e-b796-1cf496060b27": {"rdfs:comment": "\n        CONSENSUS_NAME=samples/2VM-sim/20170904\n        CONSENSUS_NAME=\"${CONSENSUS_NAME#*/}\"\n        CONSENSUS_NAME=\"${CONSENSUS_NAME//\\//-}\"\n\n        mkdir -p samples/2VM-sim/20170904/references/\n        extract_seq references/initial_aln_gap_removed.fasta -o samples/2VM-sim/20170904/references/initial_consensus.fasta -s \"${CONSENSUS_NAME}\"\n        ", "prov:startTime": "2020-04-07T12:48:49.430443"}, "activity-initial_vicuna_msa-416c38f6-592f-4876-a9f4-baae66f8a748": {"rdfs:comment": "\n        cat samples/2VM-sim/20170904/references/vicuna_consensus.fasta > initial_ALL.fasta\n        mafft --nuc --preservecase --maxiterate 1000 --localpair --thread 1 initial_ALL.fasta > references/initial_aln.fasta 2> >(tee references/MAFFT_initial_aln.err.log >&2)\n        rm initial_ALL.fasta\n\n        remove_gaps_msa references/initial_aln.fasta -o references/initial_aln_gap_removed.fasta -p 0.5 > references/MAFFT_initial_aln.out.log 2> >(tee -a references/MAFFT_initial_aln.err.log >&2)\n        ", "prov:startTime": "2020-04-07T12:48:49.429484"}, "activity-initial_vicuna-ac2da80a-9a0b-41e9-8f7f-c17637d0363e": {"rdfs:comment": "\n        CONSENSUS_NAME=samples/2VM-sim/20170904\n        CONSENSUS_NAME=\"${CONSENSUS_NAME#*/}\"\n        CONSENSUS_NAME=\"${CONSENSUS_NAME//\\//-}\"\n\n        source /Users/gaignard-a/Downloads/V-pipe-snapshot-20200406b/functions.sh\n\n        ERRFILE=$(basename samples/2VM-sim/20170904/initial_consensus/vicuna.err.log)\n        OUTFILE=$(basename samples/2VM-sim/20170904/initial_consensus/vicuna.out.log)\n\n        # 1. copy initial reference for bwa\n        rm -rf samples/2VM-sim/20170904/initial_consensus/\n        mkdir -p samples/2VM-sim/20170904/initial_consensus/\n        cp references/HXB2.fasta samples/2VM-sim/20170904/initial_consensus/consensus.fasta\n        cd samples/2VM-sim/20170904/initial_consensus\n\n        # 2. create bwa index\n        bwa index consensus.fasta 2> >(tee $ERRFILE >&2)\n\n        # 3. create initial alignment\n        if [[ true == \"true\" ]]; then\n            bwa mem -t 1 consensus.fasta ../preprocessed_data/R{1,2}.fastq > first_aln.sam 2> >(tee -a $ERRFILE >&2)\n        else\n            bwa mem -t 1 consensus.fasta ../preprocessed_data/R1.fastq > first_aln.sam 2> >(tee -a $ERRFILE >&2)\n        fi\n        rm consensus.fasta.*\n\n        # 4. remove unmapped reads\n        samtools view -b -F 4 first_aln.sam > mapped.bam 2> >(tee -a $ERRFILE >&2)\n        rm first_aln.sam\n\n        # 5. extract reads\n        mkdir -p cleaned\n        SamToFastq picard I=mapped.bam FASTQ=cleaned/R1.fastq SECOND_END_FASTQ=cleaned/R2.fastq VALIDATION_STRINGENCY=SILENT 2> >(tee -a $ERRFILE >&2)\n        rm mapped.bam\n\n        # 6. create config file\n        # NOTE: Tabs are required below\n        if [[ true == \"true\" ]]; then\n\t\t\tcat > vicuna_config.txt <<- _EOF_\n\t\t\t\tminMSize\t9\n\t\t\t\tmaxOverhangSize\t2\n\t\t\t\tDivergence\t8\n\t\t\t\tmax_read_overhang\t2\n\t\t\t\tmax_contig_overhang\t10\n\t\t\t\tpFqDir\tcleaned/\n\t\t\t\tbatchSize\t100000\n\t\t\t\tLibSizeLowerBound\t100\n\t\t\t\tLibSizeUpperBound\t800\n\t\t\t\tmin_output_contig_len\t1000\n\t\t\t\toutputDIR\t./\n\t\t\t_EOF_\n        else\n\t\t\tcat > vicuna_config.txt <<- _EOF_\n\t\t\t\tminMSize\t9\n\t\t\t\tmaxOverhangSize\t2\n\t\t\t\tDivergence\t8\n\t\t\t\tmax_read_overhang\t2\n\t\t\t\tmax_contig_overhang\t10\n\t\t\t\tnpFqDir\tcleaned/\n\t\t\t\tbatchSize\t100000\n\t\t\t\tmin_output_contig_len\t1000\n\t\t\t\toutputDIR\t./\n\t\t\t_EOF_\n        fi\n\n        # 7. VICUNA\n        OMP_NUM_THREADS=1 vicuna vicuna_config.txt > $OUTFILE 2> >(tee -a $ERRFILE >&2)\n        rm vicuna_config.txt\n        rm -r cleaned/\n\n        # 8. fix broken header\n        sed -e 's:>dg-\\([[:digit:]]\\+\\)\\s.*:>dg-\u0001:g' contig.fasta > contig_clean.fasta\n\n        # 9. InDelFixer + ConsensusFixer to polish up consensus\n        for i in {1..3}\n        do\n                mv consensus.fasta old_consensus.fasta\n                InDelFixer IndelFixer.jar -i contig_clean.fasta -g old_consensus.fasta >> $OUTFILE 2> >(tee -a $ERRFILE >&2)\n                sam2bam samtools reads.sam >> $OUTFILE 2> >(tee $ERRFILE >&2)\n                ConsensusFixer ConsensusFixer.jar -i reads.bam -r old_consensus.fasta -mcc 1 -mic 1 -d -pluralityN 0.01 >> $OUTFILE 2> >(tee $ERRFILE >&2)\n        done\n\n        sed -i -e \"s/>.*/>${CONSENSUS_NAME}/\" consensus.fasta\n        echo \"\" >> consensus.fasta\n\n        # 10. finally, move into place\n        mkdir -p ../references\n        mv {,../references/vicuna_}consensus.fasta\n        ", "prov:startTime": "2020-04-07T12:48:49.427806"}, "activity-gunzip-4a61c654-a8ae-41a9-aaf2-3ab541a6818f": {"rdfs:comment": "\n        gunzip -c samples/2VM-sim/20170904/preprocessed_data/R1.fastq.gz > samples/2VM-sim/20170904/preprocessed_data/R1.fastq\n        ", "prov:startTime": "2020-04-07T12:48:49.426717"}, "activity-gunzip-799d4179-0470-4bad-b741-3c882ebcd14e": {"rdfs:comment": "\n        gunzip -c samples/2VM-sim/20170904/preprocessed_data/R2.fastq.gz > samples/2VM-sim/20170904/preprocessed_data/R2.fastq\n        ", "prov:startTime": "2020-04-07T12:48:49.425840"}, "activity-preprocessing-73e31451-094a-4cad-94eb-201f065d0c7f": {"rdfs:comment": "\n            echo \"The length cutoff is: 200\" > samples/2VM-sim/20170904/preprocessed_data/prinseq.out.log\n\n            prinseq-lite.pl -fastq samples/2VM-sim/20170904/extracted_data/R1.fastq -fastq2 samples/2VM-sim/20170904/extracted_data/R2.fastq -out_format 3 -out_good samples/2VM-sim/20170904/preprocessed_data/R -out_bad null -ns_max_n 4 -min_qual_mean 30 -trim_qual_left 30 -trim_qual_right 30 -trim_qual_window 10 -min_len 200 -log samples/2VM-sim/20170904/preprocessed_data/prinseq.out.log 2> >(tee samples/2VM-sim/20170904/preprocessed_data/prinseq.err.log >&2)\n\n            # make sure that the lock held prinseq has been effectively released and propagated\n            # on some networked shares this could otherwise lead to confusion or corruption\n            if [[ \"$OSTYPE\" =~ ^linux ]]; then\n                echo \"Waiting for unlocks\" >&2\n                for U in samples/2VM-sim/20170904/preprocessed_data/R_{1,2}.fastq; do\n                    flock -x -o ${U} -c \"echo ${U} unlocked >&2\"\n                done\n            fi\n\n            mv samples/2VM-sim/20170904/preprocessed_data/R{_,}1.fastq\n            mv samples/2VM-sim/20170904/preprocessed_data/R{_,}2.fastq\n            rm -f samples/2VM-sim/20170904/preprocessed_data/R_?_singletons.fastq\n\n            gzip samples/2VM-sim/20170904/preprocessed_data/R1.fastq\n            gzip samples/2VM-sim/20170904/preprocessed_data/R2.fastq\n            ", "prov:startTime": "2020-04-07T12:48:49.424750"}, "activity-extract-05915f2a-a1c6-4033-ae19-eab204ab344e": {"rdfs:comment": "\n        cat samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R2.fastq | paste - - - - | sort -k1,1 -t \" \" | tr \"\t\" \"\n\" > samples/2VM-sim/20170904/extracted_data/R2.fastq 2> >(tee samples/2VM-sim/20170904/extracted_data/extract_R2.err.log >&2)\n        ", "prov:startTime": "2020-04-07T12:48:49.423676"}, "activity-extract-9bfbf4fe-c195-41c4-beb6-785bf0190a92": {"rdfs:comment": "\n        cat samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R1.fastq | paste - - - - | sort -k1,1 -t \" \" | tr \"\t\" \"\n\" > samples/2VM-sim/20170904/extracted_data/R1.fastq 2> >(tee samples/2VM-sim/20170904/extracted_data/extract_R1.err.log >&2)\n        ", "prov:startTime": "2020-04-07T12:48:49.422474"}, "activity-gunzip-36804754-fba7-4969-8b56-7c91907e9949": {"rdfs:comment": "\n        gunzip -c samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R1.fastq.gz > samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R1.fastq\n        ", "prov:startTime": "2020-04-07T12:48:49.418595"}, "activity-gunzip-bbb8a266-392a-4e67-9776-a46047ff2691": {"rdfs:comment": "\n        gunzip -c samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R2.fastq.gz > samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R2.fastq\n        ", "prov:startTime": "2020-04-07T12:48:49.413504"}, "623d658d-30c8-4e0d-8a6f-ec5011172c00": {"prov:endTime": "2020-04-07T12:48:49.443354", "prov:startTime": "2020-04-07T12:48:49.230594"}}, "wasAttributedTo": {"_:id108": {"prov:agent": "convert_to_ref", "prov:entity": "samples/2VM-sim/20170904/alignments/REF_aln.bam"}, "_:id109": {"prov:agent": "sam2bam", "prov:entity": "samples/2VM-sim/20170904/alignments/full_aln.bam.bai"}, "_:id110": {"prov:agent": "sam2bam", "prov:entity": "samples/2VM-sim/20170904/alignments/full_aln.bam"}, "_:id111": {"prov:agent": "sam2bam", "prov:entity": "samples/2VM-sim/20170904/alignments/rejects.bam.bai"}, "_:id112": {"prov:agent": "sam2bam", "prov:entity": "samples/2VM-sim/20170904/alignments/rejects.bam"}, "_:id113": {"prov:agent": "msa", "prov:entity": "references/ALL_aln_ambig.fasta"}, "_:id114": {"prov:agent": "msa", "prov:entity": "references/ALL_aln_majority.fasta"}, "_:id115": {"prov:agent": "hmm_align", "prov:entity": "samples/2VM-sim/20170904/references/ref_majority.fasta"}, "_:id116": {"prov:agent": "hmm_align", "prov:entity": "samples/2VM-sim/20170904/references/ref_ambig.fasta"}, "_:id117": {"prov:agent": "hmm_align", "prov:entity": "samples/2VM-sim/20170904/alignments/rejects.sam"}, "_:id118": {"prov:agent": "hmm_align", "prov:entity": "samples/2VM-sim/20170904/alignments/full_aln.sam"}, "_:id119": {"prov:agent": "create_vicuna_initial", "prov:entity": "samples/2VM-sim/20170904/references/initial_consensus.fasta"}, "_:id120": {"prov:agent": "initial_vicuna_msa", "prov:entity": "references/initial_aln_gap_removed.fasta"}, "_:id121": {"prov:agent": "initial_vicuna", "prov:entity": "samples/2VM-sim/20170904/references/vicuna_consensus.fasta"}, "_:id122": {"prov:agent": "gunzip", "prov:entity": "samples/2VM-sim/20170904/preprocessed_data/R1.fastq"}, "_:id123": {"prov:agent": "gunzip", "prov:entity": "samples/2VM-sim/20170904/preprocessed_data/R2.fastq"}, "_:id124": {"prov:agent": "preprocessing", "prov:entity": "samples/2VM-sim/20170904/preprocessed_data/R2.fastq.gz"}, "_:id125": {"prov:agent": "preprocessing", "prov:entity": "samples/2VM-sim/20170904/preprocessed_data/R1.fastq.gz"}, "_:id126": {"prov:agent": "extract", "prov:entity": "samples/2VM-sim/20170904/extracted_data/R2.fastq"}, "_:id127": {"prov:agent": "extract", "prov:entity": "samples/2VM-sim/20170904/extracted_data/R1.fastq"}, "_:id128": {"prov:agent": "gunzip", "prov:entity": "samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R1.fastq"}, "_:id129": {"prov:agent": "gunzip", "prov:entity": "samples/2VM-sim/20170904/raw_data/2VirusMix_simulated_R2.fastq"}, "_:id130": {"prov:agent": "gaignard-a", "prov:entity": "f2a09f37-467a-4d74-8a29-4edd05343ef3"}}}}}